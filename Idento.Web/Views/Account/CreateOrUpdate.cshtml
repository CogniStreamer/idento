@model Idento.Web.Controllers.RegisterModel

@{
    ViewData["Title"] = Model.Id != null ? "Edit Account" : "Add Account";
    ViewData["Action"] = Model.Id != null ? "Save" : "Create";
}

<h2>@ViewData["Title"]</h2>

<hr/>
@using (Html.BeginForm(ViewData["Action"].ToString(), "Account", FormMethod.Post))
{
    @Html.ValidationSummary()
    @Html.LabelFor(x => x.UserName)
    @Html.TextBoxFor(x => x.UserName)
    if (ViewData["Action"].ToString() == "Create")
    {
        <br/>
        @Html.LabelFor(x => x.Password) @Html.TextBoxFor(x => x.Password);
        <br/>
    }
    else
    {
        <a href="@Url.Action("ChangePassword", new {id = Model.Id})">Change password</a>
    }
    <br />
    @Html.LabelFor(x => x.FirstName)
    @Html.TextBoxFor(x => x.FirstName)
    <br />
    @Html.LabelFor(x => x.LastName)
    @Html.TextBoxFor(x => x.LastName);
    <br />
    <input class="btn" type="submit" value="@ViewData["Action"]"/>
}